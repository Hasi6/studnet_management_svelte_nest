{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/Store/errors/errors.store.js","webpack:///./src/config/index.js","webpack:///./src/app/Store/loading/loading.store.js","webpack:///./src/app/helpers/apiRequests.js","webpack:///./src/app/Store/auth/auth.store.js","webpack:///./src/app/screens/MarkUp.svelte","webpack:///./src/app/Store/chat/chat.store.js","webpack:///./src/app/Store/chat/chatId.store.js","webpack:///./src/app/Store/socket/socket.store.js","webpack:///./src/components/HomePage/Chat/SingleChat.svelte","webpack:///./src/app/Store/screen/screen.store.js","webpack:///./src/components/HomePage/AppBar/AppBar.svelte","webpack:///./src/components/HomePage/SearchBar/SearchBar.svelte","webpack:///./src/app/helpers/searchResultsHelper.js","webpack:///./src/components/HomePage/Chat/Chat.svelte","webpack:///./src/components/HomePage/Messages/MessagesComponent/MessagesHeader/MessagesHeader.svelte","webpack:///./src/components/HomePage/Messages/MessagesComponent/MessageCard/SingleMessage/SingleMessage.svelte","webpack:///./src/components/HomePage/Messages/MessagesComponent/MessageCard/MessageCard.svelte","webpack:///./src/config/firebase.js","webpack:///./src/components/HomePage/Messages/MessagesComponent/AddMessage/AddMessage.svelte","webpack:///./src/app/helpers/apolloClient.js","webpack:///./src/app/graphql/mutations/getMessages.mutation.js","webpack:///./src/components/HomePage/Messages/MessagesComponent/MessagesComponent.svelte","webpack:///./src/components/HomePage/Messages/Messages.svelte","webpack:///./src/components/HomePage/Profile/Profile.svelte","webpack:///./src/components/HomePage/AddChat/SearchBar/SearchBar.svelte","webpack:///./src/components/HomePage/AddChat/AddMessage/AddMessage.svelte","webpack:///./src/components/HomePage/AddChat/Users/SingleUser.svelte","webpack:///./src/app/graphql/queries/getUsers.query.js","webpack:///./src/components/HomePage/AddChat/Users/Users.svelte","webpack:///./src/components/HomePage/AddChat/GroupChat/GroupChat.svelte","webpack:///./src/components/HomePage/AddChat/AddChat.svelte","webpack:///./src/components/HomePage/GroupChat/Users/SingleUser.svelte","webpack:///./src/components/HomePage/GroupChat/Users/Users.svelte","webpack:///./src/components/HomePage/GroupChat/SelectedUsers/SelectedUsers.svelte","webpack:///./src/components/HomePage/GroupChat/GroupChat.svelte","webpack:///./src/app/graphql/mutations/getUserChatLits.mutations.js","webpack:///./src/app/screens/Home/Home.svelte","webpack:///./src/app/screens/Auth/UnAuthProtect.svelte","webpack:///./src/app/helpers/emailValidator.js","webpack:///./src/app/screens/Auth/Login/Login.svelte","webpack:///./src/app/graphql/queries/getFaculties.query.js","webpack:///./src/app/graphql/mutations/getDepartments.mutation.js","webpack:///./src/app/screens/Auth/Register/Register.svelte","webpack:///./src/components/Admin/AdminNavbar/AdminNavbar.svelte","webpack:///./src/app/screens/Admin/AddFaculty/AddFaculty.svelte","webpack:///./src/app/screens/Admin/AddDepartment/AddDepartment.svelte","webpack:///./src/app/Router.svelte","webpack:///./src/components/Errors/Errors.svelte","webpack:///./src/app/App.svelte","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","errorStore","errors","writable","addErrors","error","time","id","uuid","body","update","setTimeout","filter","removeErrors","errs","subscribe","endPoint","ladingStore","loading","setLoading","removeLoading","apiRequests","url","method","headers","axios","request","response","newErrors","message","err","map","msg","type","tokenDecode","token","decodedUser","user","decode","newDate","Date","now","parseInt","toString","substr","exp","authStore","authenticate","auth","checkAuthState","localStorage","getItem","username","loginUser","res","setItem","loadingStore","registerUser","status","navigate","replace","logOutUser","removeItem","authenticated","unsubscribe","rightVisible","checkUserAuth","logoutUser","async","setRightVisible","chatStore","chats","addChats","newChats","updateChat","updatedChats","addNewChat","newChat","removeChats","chat","ch","_id","chatIdStore","addChatId","chatId","socketStore","socket","chatSocket","io","connect","newChatSocket","setSocket","screen","lastMessage","image","socketUnsubscribe","otherUser","typing","getStore","users","on","changeChatId","screenStore","setScreen","mdi","authUnsubscribe","setState","oldChats","searchChats","getChats","e","target","console","log","checkName","str","pattern","split","x","join","regex","RegExp","match","searchMessages","messages","allMessages","toLowerCase","substring","searchResult","xSub","includes","allChats","re","emit","chatUnsucbscribe","searchKey","setSearchKey","isMe","sender","scrollTop","document","querySelector","autoScroll","objDiv","scrollHeight","getChatId","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","storage","fullChatId","percentage","athtUnsubscribe","chatList","setPercentage","pers","setErrors","success","urls","sendMessage","open","toggle","visible","uploadImage","addEmoji","detail","Authorization","getChatList","sendTyping","files","client","ApolloClient","uri","authorization","getMessages","gql","newMessage","setUser","chid","mutation","variables","getState","loggedUser","setToggle","getUser","addChat","userIds","email","chatUnsubscribe","nevigateOrToggle","currentFullChatId","isHere","some","getUsers","searchUser","getCliet","query","undefined","setSelectedUsers","y","duration","selectedUsers","removeSelectedUsers","u","getUserChatList","userUnsubscribe","userId","validateEmail","test","String","loadingUnsubscribe","password","disabled","errorss","loginLoading","submit","preventDefault","getFaculties","getDepartments","faculties","confirmPassword","facultyId","departments","lable","path","navList","header","addFaculty","a","post","addDepartment","errorsUnSubscribe","allErrors","app","App"],"mappings":"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","file":"js/app.e174960d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* eslint-disable no-console */\r\nimport { writable } from \"svelte/store\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst errorStore = () => {\r\n  // Initial State\r\n  const errors = writable([]);\r\n\r\n  const addErrors = (error, time) => {\r\n    const id = uuid();\r\n    const body = { ...error, id };\r\n    errors.update(error => {\r\n      return [...error, body];\r\n    });\r\n\r\n    setTimeout(() => {\r\n      errors.update(errors => {\r\n        return errors.filter(error => error.id !== id);\r\n      });\r\n    }, time || 10000);\r\n  };\r\n\r\n  const removeErrors = id => {\r\n    errors.update(errs => {\r\n      return errs.filter(error => error.id !== id);\r\n    });\r\n  };\r\n\r\n  return {\r\n    subscribe: errors.subscribe,\r\n    addErrors,\r\n    removeErrors\r\n  };\r\n};\r\n\r\nexport default errorStore();\r\n","export const endPoint = \"https://hkk19ohi0a.execute-api.us-west-2.amazonaws.com/develop\";","/* eslint-disable no-console */\r\nimport { writable } from \"svelte/store\";\r\n\r\nconst ladingStore = () => {\r\n  // Initial State\r\n  const loading = writable({\r\n    name: null\r\n  });\r\n\r\n  // Set Loading\r\n  const setLoading = name => {\r\n    loading.update(() => {\r\n      return { name };\r\n    });\r\n  };\r\n\r\n  // Remove Loading\r\n  const removeLoading = () => {\r\n    loading.update(() => {\r\n      return { name: null };\r\n    });\r\n  };\r\n\r\n  return {\r\n    subscribe: loading.subscribe,\r\n    setLoading,\r\n    removeLoading\r\n  };\r\n};\r\n\r\nexport default ladingStore();\r\n","import axios from \"axios\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport errorStore from \"../Store/errors/errors.store\";\r\n\r\nexport const apiRequests = async (url, method, data, headers) => {\r\n  try {\r\n    return await axios.request({ url, method, data, headers });\r\n  } catch (err) {\r\n    const errors = err.response.data;\r\n    let newErrors;\r\n    try {\r\n      newErrors = errors.message.splice(\",\");\r\n    } catch (err) {\r\n      newErrors = [errors.message];\r\n    }\r\n\r\n    if (newErrors.length > 0) {\r\n      newErrors.map(error => {\r\n        errorStore.addErrors({ msg: error, type: \"danger\", id: uuid() });\r\n      });\r\n      return null;\r\n    }\r\n    errorStore.addErrors({ msg: errors.message, type: \"danger\", id: uuid() });\r\n    return null;\r\n  }\r\n};\r\n","/* eslint-disable no-console */\r\nimport { writable } from \"svelte/store\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport errorStore from \"../errors/errors.store\";\r\nimport { endPoint } from \"../../../config\";\r\nimport { navigate } from \"svelte-routing\";\r\nimport decode from \"jwt-decode\";\r\nimport loadingStore from \"../loading/loading.store\";\r\nimport { apiRequests } from \"../../helpers/apiRequests\";\r\n\r\nconst tokenDecode = token => {\r\n  let decodedUser;\r\n  let user;\r\n  if (token) {\r\n    decodedUser = decode(token);\r\n  }\r\n  // console.log(Date.now().splice(0, 10));\r\n  const newDate = Date.now();\r\n  if (\r\n    decodedUser &&\r\n    parseInt(newDate.toString().substr(0, 10)) < decodedUser.exp\r\n  ) {\r\n    user = decodedUser;\r\n  }\r\n\r\n  return user;\r\n};\r\n\r\nconst authStore = () => {\r\n  // Initial State\r\n  const authenticate = writable({\r\n    auth: null,\r\n    user: null\r\n  });\r\n\r\n  // Check Auth State\r\n  const checkAuthState = async () => {\r\n    const token = await localStorage.getItem(\"token\");\r\n    let user = null;\r\n    user = tokenDecode(token);\r\n\r\n    if (user) {\r\n      errorStore.addErrors({\r\n        msg: `Welcome ${user.username}`,\r\n        type: \"success\",\r\n        id: uuid()\r\n      });\r\n    }\r\n\r\n    authenticate.update(() => {\r\n      return {\r\n        auth: token ? true : false,\r\n        user: user\r\n      };\r\n    });\r\n  };\r\n\r\n  // Login User\r\n  const loginUser = async body => {\r\n    const res = await apiRequests(`${endPoint}/api/auth/login`, \"post\", body);\r\n    if (res) {\r\n      await localStorage.setItem(\"token\", res.data.token);\r\n      const token = res.data.token;\r\n      let user = null;\r\n\r\n      user = tokenDecode(token);\r\n      // console.log(Date.now().splice(0, 10));\r\n      if (user) {\r\n        errorStore.addErrors({\r\n          msg: `Welcome ${user.username}`,\r\n          type: \"success\"\r\n        });\r\n      }\r\n      authenticate.update(() => {\r\n        return { auth: true, user };\r\n      });\r\n      loadingStore.removeLoading();\r\n      return true;\r\n    }\r\n    loadingStore.removeLoading();\r\n    return false;\r\n  };\r\n\r\n  // Register User\r\n  const registerUser = async body => {\r\n    const res = await apiRequests(\r\n      `${endPoint}/api/auth/register`,\r\n      \"post\",\r\n      body\r\n    ); //axios.post(`${endPoint}/api/auth/register`, body);\r\n    if (res && res.status === 201) {\r\n      errorStore.addErrors({\r\n        msg: \"Successfully Registered\",\r\n        type: \"success\"\r\n      });\r\n      navigate(\"/login\", { replace: true });\r\n    }\r\n  };\r\n\r\n  // Logout User\r\n  const logOutUser = async () => {\r\n    await localStorage.removeItem(\"token\");\r\n    authenticate.update(() => {\r\n      return {\r\n        auth: false,\r\n        user: null\r\n      };\r\n    });\r\n  };\r\n\r\n  return {\r\n    subscribe: authenticate.subscribe,\r\n    checkAuthState,\r\n    loginUser,\r\n    registerUser,\r\n    logOutUser\r\n  };\r\n};\r\n\r\nexport default authStore();\r\n","<script>\r\n  import { Link, navigate } from \"svelte-routing\";\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import authStore from \"../Store/auth/auth.store\";\r\n  import errorStore from \"../Store/errors/errors.store.js\";\r\n  import { Row, Col, Button } from \"svelte-chota\";\r\n  export let rightVisible = true;\r\n\r\n  let authenticated;\r\n\r\n  // Check User Auth\r\n  let unsubscribe;\r\n  const checkUserAuth = () => {\r\n    unsubscribe = authStore.subscribe(auth => {\r\n      authenticated = auth;\r\n      if (authenticated.auth === false) {\r\n        navigate(\"/login\", { replace: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  const logoutUser = async () => {\r\n    authStore.logOutUser();\r\n  };\r\n\r\n  onMount(() => {\r\n    checkUserAuth();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n\r\n  const setRightVisible = () => {\r\n    rightVisible = !rightVisible;\r\n  };\r\n</script>\r\n\r\n{#if authenticated && authenticated.auth}\r\n  <Row>\r\n    <Col size=\"4\" sizeMD=\"4\" sizeLG=\"4\" sizeSM=\"4\" sizeXS=\"4\">\r\n\r\n      <slot name=\"chatList\" />\r\n\r\n    </Col>\r\n    <Col size=\"8\" sizeMD=\"8\" sizeLG=\"8\" sizeSM=\"8\" sizeXS=\"8\">\r\n      <slot name=\"messages\" />\r\n    </Col>\r\n  </Row>\r\n{/if}\r\n\r\n<Button\r\n  class=\"btn btn-success\"\r\n  on:click={() => errorStore.addErrors({ msg: 'Hasi', type: 'success' })}>\r\n  Add Error\r\n</Button>\r\n","/* eslint-disable no-console */\r\nimport { writable } from \"svelte/store\";\r\n// import { apiRequests } from \"../../helpers/apiRequests\";\r\n// import { endPoint } from \"../../../config\";\r\n\r\nconst chatStore = () => {\r\n  // Initial State\r\n  const chats = writable([]);\r\n\r\n  const addChats = newChats => {\r\n    chats.update(() => {\r\n      return newChats;\r\n    });\r\n  };\r\n\r\n  const updateChat = updatedChats => {\r\n    chats.update(() => {\r\n      return updatedChats;\r\n    });\r\n  };\r\n\r\n  const addNewChat = newChat => {\r\n    chats.update(chats => {\r\n      return [newChat, ...chats];\r\n    });\r\n  };\r\n\r\n  const removeChats = id => {\r\n    chats.update(chat => {\r\n      return chat.filter(ch => ch._id !== id);\r\n    });\r\n  };\r\n\r\n  return {\r\n    subscribe: chats.subscribe,\r\n    addChats,\r\n    updateChat,\r\n    addNewChat,\r\n    removeChats\r\n  };\r\n};\r\n\r\nexport default chatStore();\r\n","/* eslint-disable no-console */\r\nimport { writable } from \"svelte/store\";\r\n\r\nconst chatIdStore = () => {\r\n  // Initial State\r\n  const chats = writable(null);\r\n\r\n  const addChatId = chatId => {\r\n    chats.update(() => {\r\n      return chatId;\r\n    });\r\n  };\r\n\r\n  return {\r\n    subscribe: chats.subscribe,\r\n    addChatId\r\n  };\r\n};\r\n\r\nexport default chatIdStore();\r\n","/* eslint-disable no-console */\r\nimport {\r\n  writable\r\n} from \"svelte/store\";\r\nimport io from \"socket.io-client\";\r\nconst endPoint = \"https://hkk19ohi0a.execute-api.us-west-2.amazonaws.com/develop\";\r\n\r\nconst socketStore = () => {\r\n  // Initial State\r\n  const socket = writable( {\r\n    chatSocket: io.connect( `${endPoint}/chat` ),\r\n    newChatSocket: io.connect( `${endPoint}/newChat` )\r\n  } );\r\n\r\n  // Set Loading\r\n  const setSocket = name => {\r\n    screen.update( () => {\r\n      return name;\r\n    } );\r\n  };\r\n\r\n  return {\r\n    subscribe: socket.subscribe,\r\n    setSocket\r\n  };\r\n};\r\n\r\nexport default socketStore();","<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { Input, Field, Button, Card } from \"svelte-chota\";\r\n  import chatIdStore from \"../../../app/Store/chat/chatId.store\";\r\n  import { v4 as uuid } from \"uuid\";\r\n  import authStore from \"../../../app/Store/auth/auth.store.js\";\r\n  import socketStore from \"../../../app/Store/socket/socket.store.js\";\r\n  export let chat;\r\n\r\n  let unsubscribe;\r\n  let user;\r\n  let socketUnsubscribe;\r\n  let chatSocket;\r\n  let otherUser;\r\n  let typing;\r\n\r\n  const getStore = () => {\r\n    unsubscribe = authStore.subscribe(res => {\r\n      user = res.user;\r\n    });\r\n    otherUser = chat.users[0]._id === user._id ? chat.users[1] : chat.users[0];\r\n\r\n    socketUnsubscribe = socketStore.subscribe(res => {\r\n      res.chatSocket.on(\"typing\", res => {\r\n        if (res.chatId === chat._id && res.user !== user._id) {\r\n          typing = true;\r\n          setTimeout(() => {\r\n            typing = false;\r\n          }, 1000);\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  const changeChatId = () => {\r\n    chatIdStore.addChatId(chat._id);\r\n  };\r\n\r\n  onMount(() => {\r\n    getStore();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n    socketUnsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n  img {\r\n    width: 50px !important;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    margin-top: 5px;\r\n  }\r\n  .singleChat {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n</style>\r\n\r\n{#if otherUser}\r\n  <Card\r\n    style=\"margin-bottom: 10px; cursor:pointer\"\r\n    on:click={() => changeChatId()}>\r\n    <div class=\"singleChat\">\r\n      <div style=\"flex: 1\">\r\n        <img src={otherUser.image} alt={otherUser.username} />\r\n      </div>\r\n      <div style=\"flex:2\">\r\n        <p>Hasi</p>\r\n        <p>\r\n          {chat.lastMessage.substr(0, 10)}{chat.lastMessage.length > 10 ? '...' : ''}\r\n        </p>\r\n      </div>\r\n      <div style=\"flex:1\">\r\n        {#if typing}\r\n          <p>Typing...</p>\r\n        {/if}\r\n      </div>\r\n    </div>\r\n  </Card>\r\n{/if}\r\n","/* eslint-disable no-console */\r\nimport { writable } from \"svelte/store\";\r\n\r\nconst screenStore = () => {\r\n  // Initial State\r\n  const screen = writable(\"addGroup\");\r\n\r\n  // Set Loading\r\n  const setScreen = name => {\r\n    screen.update(() => {\r\n      return name;\r\n    });\r\n  };\r\n\r\n  return {\r\n    subscribe: screen.subscribe,\r\n    setScreen\r\n  };\r\n};\r\n\r\nexport default screenStore();\r\n","<script>\r\n  import { Input, Button, Nav, Tag } from \"svelte-chota\";\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { mdiDotsHorizontal } from \"@mdi/js\";\r\n  import authStore from \"../../../app/Store/auth/auth.store.js\";\r\n  import screenStore from \"../../../app/Store/screen/screen.store\";\r\n\r\n  let authUnsubscribe;\r\n  let user;\r\n\r\n  const setState = () => {\r\n    authUnsubscribe = authStore.subscribe(res => {\r\n      user = res.user;\r\n    });\r\n  };\r\n\r\n  onMount(() => {\r\n    setState();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    authUnsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n  img {\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n  }\r\n  p {\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n\r\n<div>\r\n  <Nav class=\"navbar\">\r\n    <div slot=\"left\">\r\n      {#if user}\r\n        <img\r\n          src={user.image}\r\n          alt=\"userimage\"\r\n          on:click={() => screenStore.setScreen('profile')} />\r\n      {/if}\r\n    </div>\r\n\r\n    <p slot=\"right\" on:click={() => screenStore.setScreen('addChat')}>\r\n      <i class=\"fas fa-plus\" style=\"cursor:pointer\" />\r\n    </p>\r\n    <a slot=\"right\" href=\"/\" style=\"z-index:1000\">\r\n      <Button\r\n        style=\"border:none; z-index:100!important\"\r\n        dropdown=\"\"\r\n        autoclose\r\n        outline\r\n        iconRight={mdiDotsHorizontal}>\r\n        <p>Profile</p>\r\n        <p>Settings</p>\r\n        <hr />\r\n        <p on:click={() => authStore.logOutUser()}>Logout</p>\r\n      </Button>\r\n    </a>\r\n  </Nav>\r\n</div>\r\n","<script>\r\n  import { Input, Field, Button } from \"svelte-chota\";\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import chatStore from \"../../../app/Store/chat/chat.store.js\";\r\n\r\n  let unsubscribe;\r\n  let chats = [];\r\n  let oldChats = null;\r\n  let searchKey = \"\";\r\n\r\n  export let searchChats;\r\n\r\n  const getChats = () => {\r\n    unsubscribe = chatStore.subscribe(chat => {\r\n      chats = chat;\r\n      if (oldChats === null) {\r\n        oldChats = [\"Old Chats\"];\r\n      }\r\n    });\r\n  };\r\n\r\n  $: (() => {\r\n    console.log(oldChats);\r\n    console.log(chats);\r\n  })();\r\n\r\n  onMount(() => {\r\n    getChats();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\r\n<div>\r\n  <Field gapless>\r\n\r\n    <Input\r\n      placeholder=\"Search Chat\"\r\n      on:input={e => searchChats(e.target.value)} />\r\n    <Button>\r\n      <i class=\"fas fa-search\" />\r\n    </Button>\r\n  </Field>\r\n</div>\r\n","// Search Result Helper\r\n// https://levelup.gitconnected.com/use-regex-and-javascript-to-improve-search-results-870932050d08\r\nconst checkName = (name, str) => {\r\n  var pattern = str\r\n    .split(\"\")\r\n    .map(x => {\r\n      return `(?=.*${x})`;\r\n    })\r\n    .join(\"\");\r\n  var regex = new RegExp(`${pattern}`, \"g\");\r\n  return name.match(regex);\r\n};\r\n\r\n// Search Messages\r\nexport const searchMessages = (e, messages, allMessages) => {\r\n  if (!e) {\r\n    return allMessages;\r\n  }\r\n  const str = e.toLowerCase().substring(0, 3);\r\n  const searchResult = messages.filter(msg => {\r\n    if (msg.message) {\r\n      const xSub = msg.message.substring(0, 3).toLowerCase();\r\n      return msg.message.toLowerCase().includes(str) || checkName(xSub, str);\r\n    }\r\n  });\r\n  return searchResult;\r\n};\r\n","<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { Card } from \"svelte-chota\";\r\n  import chatStore from \"../../../app/Store/chat/chat.store.js\";\r\n  import SingleChat from \"./SingleChat.svelte\";\r\n  import AppBar from \"../AppBar/AppBar.svelte\";\r\n  import SearchBar from \"../SearchBar/SearchBar.svelte\";\r\n  import socketStore from \"../../../app/Store/socket/socket.store.js\";\r\n  import authStore from \"../../../app/Store/auth/auth.store.js\";\r\n  import { searchMessages } from \"../../../app/helpers/searchResultsHelper.js\";\r\n\r\n  let unsubscribe;\r\n  let socketUnsubscribe;\r\n  let chatSocketUnsubscribe;\r\n  let authUnsubscribe;\r\n  let newChatSocket;\r\n  let chatSocket;\r\n\r\n  let user;\r\n  let chats = [];\r\n  let allChats = [];\r\n\r\n  const getChats = () => {\r\n    unsubscribe = chatStore.subscribe(chat => {\r\n      chats = chat;\r\n      allChats = chat;\r\n    });\r\n  };\r\n\r\n  const setState = () => {\r\n    authUnsubscribe = authStore.subscribe(res => {\r\n      user = res.user;\r\n\r\n      socketUnsubscribe = socketStore.subscribe(res => {\r\n        newChatSocket = res.newChatSocket;\r\n        chatSocket = res.chatSocket;\r\n        newChatSocket.on(\"newChatAdded\", re => {\r\n          chatStore.addNewChat(re.chat);\r\n          chatSocket.emit(\"newChatAdded\", { chatId: re.chat._id });\r\n        });\r\n      });\r\n    });\r\n  };\r\n\r\n  const searchChats = e => {\r\n    // const result = searchMessages(e, allChats, chats);\r\n    // console.log(result);\r\n  };\r\n\r\n  onMount(() => {\r\n    getChats();\r\n    setState();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n</script>\r\n\r\n<AppBar />\r\n<SearchBar {searchChats} />\r\n<Card style=\"height: 500px; overflow:auto\">\r\n  {#each chats as chat}\r\n    <SingleChat {chat} />\r\n  {/each}\r\n</Card>\r\n","<script>\r\n  import { Input, Button, Nav, Tag, Field } from \"svelte-chota\";\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { mdiDotsHorizontal } from \"@mdi/js\";\r\n  import chatStore from \"../../../../../app/Store/chat/chat.store.js\";\r\n  import chatIdStore from \"../../../../../app/Store/chat/chatId.store.js\";\r\n  import authStore from \"../../../../../app/Store/auth/auth.store.js\";\r\n  export let searchKey;\r\n  export let setSearchKey;\r\n  let chatId;\r\n\r\n  let unsubscribe;\r\n  let authUnsubscribe;\r\n  let chat;\r\n  let otherUser;\r\n  let user;\r\n  let chatUnsucbscribe;\r\n\r\n  const setState = () => {\r\n    chatUnsucbscribe = chatIdStore.subscribe(res => {\r\n      chatId = res;\r\n      console.log(res);\r\n    });\r\n\r\n    unsubscribe = chatStore.subscribe(res => {\r\n      console.log(res);\r\n      chat = res.filter(ch => ch._id === chatId)[0];\r\n      console.log(chat);\r\n    });\r\n\r\n    authUnsubscribe = authStore.subscribe(res => {\r\n      user = res.user;\r\n\r\n      otherUser =\r\n        chat.users[0]._id === res.user._id ? chat.users[1] : chat.users[0];\r\n    });\r\n  };\r\n\r\n  onMount(() => {\r\n    setState();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n    chatUnsucbscribe();\r\n    authUnsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n  }\r\n</style>\r\n\r\n<Nav class=\"navbar\">\r\n  <div slot=\"left\">\r\n    {#if otherUser}\r\n      <img\r\n        style=\"height:100px\"\r\n        src={otherUser.image}\r\n        alt={otherUser.username} />\r\n      <p>{otherUser.username}</p>\r\n    {/if}\r\n  </div>\r\n  <p slot=\"right\">\r\n    <Field gapless>\r\n\r\n      <Input\r\n        placeholder=\"Search Messages\"\r\n        on:input={e => setSearchKey(e.target.value)} />\r\n\r\n    </Field>\r\n  </p>\r\n  <a slot=\"right\" href=\"/\" style=\"z-index:1000\">\r\n    <Button\r\n      style=\"border:none; z-index:100!important\"\r\n      dropdown=\"\"\r\n      autoclose\r\n      outline\r\n      iconRight={mdiDotsHorizontal}>\r\n      <p>Profile</p>\r\n      <p>Settings</p>\r\n      <hr />\r\n      <p>Logout</p>\r\n    </Button>\r\n  </a>\r\n</Nav>\r\n{searchKey}\r\n","<script>\r\n  import { Card, Button, Tag } from \"svelte-chota\";\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { mdiChevronDown } from \"@mdi/js\";\r\n  import authStore from \"../../../../../../app/Store/auth/auth.store.js\";\r\n  export let message;\r\n\r\n  console.log(message);\r\n\r\n  let unsubscribe;\r\n  let user;\r\n  let isMe;\r\n\r\n  onMount(() => {\r\n    unsubscribe = authStore.subscribe(res => {\r\n      user = res.user;\r\n    });\r\n\r\n    isMe = message.sender === user._id ? true : false;\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n  .message {\r\n    display: flex;\r\n  }\r\n</style>\r\n\r\n<Card\r\n  style={isMe ? 'max-width: 400px; background:darkgreen;  margin-bottom: 15px; position:relative; left:200px' : 'max-width: 400px; margin-bottom: 15px'}>\r\n\r\n  <div class=\"message\">\r\n\r\n    {#if message.message}\r\n      <p style=\"width:auto\">{message.message}</p>\r\n    {/if}\r\n    {#if message.image}\r\n      <img src={message.image} alt=\"image\" />\r\n    {/if}\r\n    <Button\r\n      dropdown=\"\"\r\n      autoclose\r\n      outline\r\n      iconRight={mdiChevronDown}\r\n      style=\"float:right; border:none\">\r\n      <p>Delete from Me</p>\r\n      <p>Delete From All</p>\r\n    </Button>\r\n  </div>\r\n  <div>\r\n    <p style=\"width:auto\">Time</p>\r\n    {#if isMe}\r\n      <div style=\"float:right\">\r\n        <i class=\"fas fa-check\" />\r\n        <i class=\"fas fa-check\" />\r\n      </div>\r\n    {/if}\r\n  </div>\r\n</Card>\r\n","<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { Card } from \"svelte-chota\";\r\n  import SingleMessage from \"./SingleMessage/SingleMessage.svelte\";\r\n  import chatIdStore from \"../../../../../app/Store/chat/chatId.store\";\r\n\r\n  export let messages;\r\n\r\n  let chatId;\r\n  let unsubscribe;\r\n\r\n  const scrollTop = e => {\r\n    if (document.querySelector(\".messageCard\").scrollTop === 0) {\r\n      console.log(\"Hasi\");\r\n    }\r\n  };\r\n\r\n  const autoScroll = () => {\r\n    const objDiv = document.querySelector(\".messageCard\");\r\n    if (objDiv) {\r\n      objDiv.scrollTop = objDiv.scrollHeight;\r\n    }\r\n  };\r\n\r\n  setTimeout(() => {\r\n    autoScroll();\r\n  });\r\n\r\n  $: (() => {\r\n    let see = messages;\r\n    const objDiv = document.querySelector(\".messageCard\");\r\n    setTimeout(() => {\r\n      if (objDiv) {\r\n        objDiv.scrollTop = objDiv.scrollHeight - 100;\r\n      }\r\n    });\r\n  })();\r\n\r\n  const getChatId = () => {\r\n    unsubscribe = chatIdStore.subscribe(chat => {\r\n      chatId = chat;\r\n      autoScroll();\r\n    });\r\n  };\r\n\r\n  onMount(() => {\r\n    getChatId();\r\n    scrollTop();\r\n    autoScroll();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n  .messageCard {\r\n    height: 400px !important;\r\n    overflow: auto;\r\n  }\r\n</style>\r\n\r\n{chatId}\r\n<Card>\r\n  <div class=\"messageCard\" on:scroll={scrollTop}>\r\n\r\n    {#if messages}\r\n      {#each messages as message}\r\n        <SingleMessage {message} />\r\n      {/each}\r\n    {/if}\r\n\r\n  </div>\r\n</Card>\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB1F-FCTa9cuhrhcTgeLkQCZVcjostAL_g\",\r\n  authDomain: \"twitter-clone-by-hasi.firebaseapp.com\",\r\n  databaseURL: \"https://twitter-clone-by-hasi.firebaseio.com\",\r\n  projectId: \"twitter-clone-by-hasi\",\r\n  storageBucket: \"twitter-clone-by-hasi.appspot.com\",\r\n  messagingSenderId: \"857954183370\",\r\n  appId: \"1:857954183370:web:68c70d074501f0bf8eac33\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;\r\nexport const storage = firebase.storage;\r\n","<script>\r\n  import { Input, Field, Button, Card } from \"svelte-chota\";\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { Modal, ModalBody, ModalFooter, ModalHeader } from \"sveltestrap\";\r\n  import EmojiSelector from \"svelte-emoji-selector\";\r\n  import { mdiSend, mdiPlus } from \"@mdi/js\";\r\n  import { Dialog, Textfield } from \"svelte-mui\";\r\n  import chatStore from \"../../../../../app/Store/chat/chat.store.js\";\r\n  import { apiRequests } from \"../../../../../app/helpers/apiRequests.js\";\r\n  import { endPoint } from \"../../../../../config\";\r\n  import { storage } from \"../../../../../config/firebase.js\";\r\n  import fileUploadFirebase from \"fileupload_firebase\";\r\n  // import { fileUploadFirebase } from \"../../../../../app/helpers/fileUpload.firebase.js\";\r\n  import errorStore from \"../../../../../app/Store/errors/errors.store.js\";\r\n  import socketStore from \"../../../../../app/Store/socket/socket.store.js\";\r\n  import authStore from \"../../../../../app/Store/auth/auth.store.js\";\r\n\r\n  export let chatId;\r\n\r\n  let chatList = [];\r\n  let unsubscribe;\r\n  let fullChatId;\r\n  let image;\r\n  let errors;\r\n  let percentage;\r\n  let loading;\r\n  let socketUnsubscribe;\r\n  let chatSocket;\r\n  let athtUnsubscribe;\r\n  let user;\r\n\r\n  const setPercentage = pers => {\r\n    percentage = pers;\r\n  };\r\n\r\n  const setSocket = () => {\r\n    socketUnsubscribe = socketStore.subscribe(res => {\r\n      chatSocket = res.chatSocket;\r\n    });\r\n\r\n    athtUnsubscribe = authStore.subscribe(res => {\r\n      user = res.user;\r\n    });\r\n  };\r\n\r\n  const setErrors = err => {\r\n    errorStore.addErrors({ msg: err, type: \"danger\" });\r\n  };\r\n\r\n  const success = urls => {\r\n    errorStore.addErrors({ msg: \"File Uploaded\", type: \"success\" });\r\n    sendMessage(urls[0]);\r\n  };\r\n\r\n  let open = false;\r\n  const toggle = () => (open = !open);\r\n\r\n  export let visible = false;\r\n\r\n  let message;\r\n\r\n  const uploadImage = async () => {\r\n    loading = true;\r\n    const res = await fileUploadFirebase(\r\n      storage,\r\n      [image],\r\n      \"test\",\r\n      setPercentage,\r\n      success,\r\n      setErrors\r\n    );\r\n  };\r\n\r\n  const addEmoji = e => {\r\n    message = `${message} ${e.detail}`;\r\n  };\r\n\r\n  const sendMessage = async url => {\r\n    fullChatId = chatList.filter(chat => chat._id === chatId)[0].fullChatId;\r\n    const body = {\r\n      chatId,\r\n      fullChatId,\r\n      message: message || null,\r\n      image: url || null\r\n    };\r\n    const res = await apiRequests(`${endPoint}/api/message`, \"post\", body, {\r\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\r\n    });\r\n    loading = false;\r\n    message = \"\";\r\n  };\r\n\r\n  const getChatList = () => {\r\n    unsubscribe = chatStore.subscribe(res => {\r\n      chatList = res;\r\n    });\r\n  };\r\n\r\n  const sendTyping = () => {\r\n    chatSocket.emit(\"typing\", { chatId, user: user._id });\r\n  };\r\n\r\n  onMount(() => {\r\n    setSocket();\r\n    getChatList();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n    socketUnsubscribe();\r\n    athtUnsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n  .dropper {\r\n    margin-top: 20px;\r\n    height: 30vh;\r\n    border: 2px dashed black;\r\n    border-radius: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n  }\r\n  input {\r\n    width: 100%;\r\n    height: 30vh;\r\n    position: absolute;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n  }\r\n  .dropper:hover {\r\n    background: #eee;\r\n  }\r\n</style>\r\n\r\n<div\r\n  on:click={() => {\r\n    visible = false;\r\n  }}>\r\n  <Field gapless style=\"margin-top:10px\">\r\n    <EmojiSelector on:emoji={e => addEmoji(e)} />\r\n    <Button primary icon={mdiPlus} on:click={toggle} />\r\n    <Input\r\n      placeholder=\"Send Messages\"\r\n      bind:value={message}\r\n      on:keypress={() => sendTyping()} />\r\n    <Button success icon={mdiSend} on:click={() => sendMessage()} />\r\n  </Field>\r\n\r\n</div>\r\n\r\n<Modal isOpen={open} {toggle} style=\"margin-top:500px\">\r\n  <div style=\"text-align:center\">\r\n    <div class=\"dropper\">\r\n      <input\r\n        type=\"file\"\r\n        on:change={e => {\r\n          image = e.target.files[0];\r\n        }}\r\n        multiple={false}\r\n        accept=\"image/*\" />\r\n      <span>Drag Files Here</span>\r\n\r\n    </div>\r\n    <Button\r\n      {loading}\r\n      success\r\n      iconRight={mdiSend}\r\n      style=\"margin:10px\"\r\n      on:click={() => uploadImage()}>\r\n      Send\r\n    </Button>\r\n  </div>\r\n</Modal>\r\n","import ApolloClient from \"apollo-boost\";\r\nexport const client = new ApolloClient( {\r\n  uri: \"http://localhost:5000/graphql\",\r\n  headers: {\r\n    authorization: \"idToken\"\r\n  }\r\n} );","import { gql } from \"apollo-boost\";\r\n\r\nexport const getMessages = gql`\r\n  mutation($chatId: String!) {\r\n    messages(chatId: $chatId) {\r\n      sender\r\n      message\r\n      image\r\n      _id\r\n      fullChatId\r\n      chatId\r\n    }\r\n  }\r\n`;\r\n","<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { setClient, getClient, query, mutate } from \"svelte-apollo\";\r\n  import chatIdStore from \"../../../../app/Store/chat/chatId.store\";\r\n  import MessagesHeader from \"./MessagesHeader/MessagesHeader\";\r\n  import MessageCard from \"./MessageCard/MessageCard.svelte\";\r\n  import AddMessage from \"./AddMessage/AddMessage.svelte\";\r\n  import { client } from \"../../../../app/helpers/apolloClient\";\r\n  import { getMessages } from \"../../../../app/graphql/mutations/getMessages.mutation.js\";\r\n  import authStore from \"../../../../app/Store/auth/auth.store.js\";\r\n  import { searchMessages } from \"../../../../app/helpers/searchResultsHelper\";\r\n\r\n  import socketStore from \"../../../../app/Store/socket/socket.store.js\";\r\n\r\n  setClient(client);\r\n  const getCliet = getClient();\r\n\r\n  export let newMessage;\r\n  let searchKey = \"Hasi\";\r\n  let chatId;\r\n  let unsubscribe;\r\n  let socketUnsubscribe;\r\n  let authUnsubscribe;\r\n  let chatSocket;\r\n  let user;\r\n\r\n  let messages = [];\r\n  let allMessages = [];\r\n\r\n  const setUser = () => {\r\n    authUnsubscribe = authStore.subscribe(res => {\r\n      user = res.user;\r\n    });\r\n\r\n    socketUnsubscribe = socketStore.subscribe(res => {\r\n      chatSocket = res.chatSocket;\r\n    });\r\n\r\n    unsubscribe = chatIdStore.subscribe(chid => {\r\n      chatId = chid;\r\n    });\r\n  };\r\n\r\n  $: if (newMessage && newMessage.chatId === chatId) {\r\n    messages = [...messages, newMessage];\r\n    allMessages = [...messages, newMessage];\r\n  }\r\n\r\n  $: (async () => {\r\n    if (chatId) {\r\n      try {\r\n        const res = await mutate(client, {\r\n          mutation: getMessages,\r\n          variables: { chatId }\r\n        });\r\n        if (res && res.data && res.data.messages) {\r\n          messages = res.data.messages;\r\n          allMessages = res.data.messages;\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  })();\r\n\r\n  const setMessages = message => {\r\n    messages = [...messages, message];\r\n    allMessages = [...messages, message];\r\n  };\r\n\r\n  const setSearchKey = e => {\r\n    searchKey = e;\r\n    const result = searchMessages(e, allMessages, allMessages);\r\n    messages = result;\r\n  };\r\n\r\n  onMount(() => {\r\n    setUser();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n    socketUnsubscribe();\r\n    authUnsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\r\n<div>\r\n  <MessagesHeader {searchKey} {setSearchKey} {chatId} />\r\n  <MessageCard {chatId} {messages} />\r\n  <AddMessage {chatId} />\r\n</div>\r\n{chatId} {searchKey}\r\n","<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import WelcomeMessage from \"./WelcomeMessage/WelcomeMessage\";\r\n  import chatIdStore from \"../../../app/Store/chat/chatId.store\";\r\n  import MessagesComponent from \"./MessagesComponent/MessagesComponent.svelte\";\r\n  export let newMessage;\r\n  let chatId;\r\n  let unsubscribe;\r\n\r\n  onMount(() => {\r\n    unsubscribe = chatIdStore.subscribe(chid => {\r\n      chatId = chid;\r\n    });\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\r\n{#if chatId}\r\n  <MessagesComponent {newMessage} />\r\n{:else}\r\n  <WelcomeMessage />\r\n{/if}\r\n","<script>\r\n  import { onDestroy, onMount } from \"svelte\";\r\n  import screenStore from \"../../../app/Store/screen/screen.store.js\";\r\n  import authStore from \"../../../app/Store/auth/auth.store.js\";\r\n  import { Modal, ModalBody, ModalFooter, ModalHeader } from \"sveltestrap\";\r\n  import { Input, Field, Button, Card } from \"svelte-chota\";\r\n  import { mdiSend, mdiPlus } from \"@mdi/js\";\r\n  import fileUploadFirebase from \"firebase_fileupload\";\r\n  import { storage } from \"../../../config/firebase.js\";\r\n  import { apiRequests } from \"../../../app/helpers/apiRequests.js\";\r\n  import { endPoint } from \"../../../config\";\r\n\r\n  let user;\r\n  let unsubscribe;\r\n  let loading = false;\r\n  let image;\r\n  const toggle = () => (open = !open);\r\n\r\n  let open = false;\r\n\r\n  const getState = () => {\r\n    unsubscribe = authStore.subscribe(res => {\r\n      user = res.user;\r\n    });\r\n  };\r\n\r\n  const setErrors = error => {};\r\n\r\n  const success = async urls => {\r\n    const body = { image: urls[0] };\r\n\r\n    const res = await apiRequests(\r\n      `${endPoint}/api/auth/editUser/${user._id}`,\r\n      \"put\",\r\n      body,\r\n      {\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\r\n      }\r\n    );\r\n    loading = false;\r\n\r\n    if (res && res.data) {\r\n      user.image = res.data.image;\r\n      localStorage.setItem(\"token\", res.data.token);\r\n    }\r\n  };\r\n\r\n  const setPercentage = percentage => {};\r\n\r\n  const uploadImage = () => {\r\n    loading = true;\r\n    fileUploadFirebase(\r\n      storage,\r\n      [image],\r\n      \"profileImages\",\r\n      setPercentage,\r\n      success,\r\n      setErrors\r\n    );\r\n  };\r\n\r\n  onMount(() => {\r\n    getState();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n  .profile {\r\n    text-align: center;\r\n    height: 600px;\r\n    background: aqua;\r\n  }\r\n  .dropper {\r\n    margin-top: 20px;\r\n    height: 30vh;\r\n    border: 2px dashed black;\r\n    border-radius: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n  }\r\n  input {\r\n    width: 100%;\r\n    height: 30vh;\r\n    position: absolute;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n  }\r\n  .dropper:hover {\r\n    background: #eee;\r\n  }\r\n</style>\r\n\r\n<i\r\n  class=\"fas fa-arrow-left\"\r\n  style=\"cursor:pointer\"\r\n  on:click={() => screenStore.setScreen('chat')} />\r\n<div class=\"profile\">\r\n  <h1>Profile</h1>\r\n  {#if user}\r\n    <img src={user.image} alt=\"my_profile\" />\r\n    <br />\r\n    <i class=\"fas fa-edit\" style=\"cursor:pointer\" on:click={() => toggle()} />\r\n    <br />\r\n    <div>\r\n      <h3>{user.username}</h3>\r\n      <i class=\"fas fa-edit\" style=\"cursor:pointer\" on:click={() => toggle()} />\r\n    </div>\r\n  {/if}\r\n\r\n</div>\r\n\r\n<Modal isOpen={open} {toggle} style=\"margin-top:500px\">\r\n  <div style=\"text-align:center\">\r\n    <div class=\"dropper\">\r\n      <input\r\n        type=\"file\"\r\n        on:change={e => {\r\n          image = e.target.files[0];\r\n        }}\r\n        multiple={false}\r\n        accept=\"image/*\" />\r\n      <span>Drag Files Here</span>\r\n\r\n    </div>\r\n    <Button\r\n      success\r\n      {loading}\r\n      iconRight={mdiSend}\r\n      style=\"margin:10px\"\r\n      on:click={() => uploadImage()}>\r\n      Send\r\n    </Button>\r\n  </div>\r\n</Modal>\r\n","<script>\r\n  import { Input, Field, Button } from \"svelte-chota\";\r\n\r\n  export let setSearchKey;\r\n</script>\r\n\r\n<div>\r\n  <Field gapless>\r\n\r\n    <Input\r\n      placeholder=\"Search Users\"\r\n      on:input={e => setSearchKey(e.target.value)} />\r\n    <Button>\r\n      <i class=\"fas fa-search\" />\r\n    </Button>\r\n  </Field>\r\n</div>\r\n","<script>\r\n  import { Input, Field, Button, Card } from \"svelte-chota\";\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { Modal, ModalBody, ModalFooter, ModalHeader } from \"sveltestrap\";\r\n  import EmojiSelector from \"svelte-emoji-selector\";\r\n  import { mdiSend, mdiPlus } from \"@mdi/js\";\r\n  import { Dialog, Textfield } from \"svelte-mui\";\r\n\r\n  import { apiRequests } from \"../../../../app/helpers/apiRequests.js\";\r\n  import { endPoint } from \"../../../../config\";\r\n  import authStore from \"../../../../app/Store/auth/auth.store.js\";\r\n\r\n  export let user;\r\n  export let setToggle;\r\n  let authUnsubscribe;\r\n  let fullChatId;\r\n  let loggedUser;\r\n\r\n  let open = false;\r\n  const toggle = () => (open = !open);\r\n\r\n  export let visible = false;\r\n\r\n  let message;\r\n\r\n  const addEmoji = e => {\r\n    message = `${message} ${e.detail}`;\r\n  };\r\n\r\n  const sendMessage = async (chatId, fullChatId) => {\r\n    const body = {\r\n      chatId,\r\n      fullChatId,\r\n      message\r\n    };\r\n    const res = await apiRequests(`${endPoint}/api/message`, \"post\", body, {\r\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\r\n    });\r\n\r\n    message = \"\";\r\n  };\r\n\r\n  const getUser = () => {\r\n    authUnsubscribe = authStore.subscribe(res => {\r\n      loggedUser = res.user;\r\n    });\r\n  };\r\n\r\n  const addChat = async () => {\r\n    const body = {\r\n      fullChatId:\r\n        user._id > loggedUser._id\r\n          ? `${user._id}-${loggedUser._id}`\r\n          : `${loggedUser._id}-${user._id}`,\r\n      userIds: [user._id, loggedUser._id]\r\n    };\r\n\r\n    const res = await apiRequests(`${endPoint}/api/chat`, \"post\", body, {\r\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\r\n    });\r\n    if (res && res.data) {\r\n      sendMessage(res.data._id, res.data.fullChatId);\r\n    }\r\n    setToggle();\r\n  };\r\n\r\n  onMount(() => {\r\n    getUser();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    authUnsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n  .dropper {\r\n    margin-top: 20px;\r\n    height: 30vh;\r\n    border: 2px dashed black;\r\n    border-radius: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n  }\r\n  input {\r\n    width: 100%;\r\n    height: 30vh;\r\n    position: absolute;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n  }\r\n  .dropper:hover {\r\n    background: #eee;\r\n  }\r\n</style>\r\n\r\n<div\r\n  on:click={() => {\r\n    visible = false;\r\n  }}>\r\n  <Field gapless style=\"margin-top:10px\">\r\n    <EmojiSelector on:emoji={e => addEmoji(e)} />\r\n    <Button primary icon={mdiPlus} on:click={toggle} />\r\n    <Input placeholder=\"Send Messages\" bind:value={message} />\r\n    <Button success icon={mdiSend} on:click={() => addChat()} />\r\n  </Field>\r\n\r\n</div>\r\n\r\n<Modal isOpen={open} {toggle} style=\"margin-top:500px\">\r\n  <div style=\"text-align:center\">\r\n    <div class=\"dropper\">\r\n      <input\r\n        type=\"file\"\r\n        on:change={e => console.log(e.target.files)}\r\n        multiple={false}\r\n        accept=\"image/*\" />\r\n      <span>Drag Files Here</span>\r\n\r\n    </div>\r\n    <Button success loading iconRight={mdiSend} style=\"margin:10px\">\r\n      Send\r\n    </Button>\r\n  </div>\r\n</Modal>\r\n","<script>\r\n  import { Input, Field, Button, Card } from \"svelte-chota\";\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { Modal } from \"sveltestrap\";\r\n  import { v4 as uuid } from \"uuid\";\r\n  import NewChatAddForm from \"../NewChatAddForm/NewChatAddForm.svelte\";\r\n  import screenStore from \"../../../../app/Store/screen/screen.store.js\";\r\n  import chatIdStore from \"../../../../app/Store/chat/chatId.store.js\";\r\n  import authStore from \"../../../../app/Store/auth/auth.store.js\";\r\n  import chatStore from \"../../../../app/Store/chat/chat.store.js\";\r\n  import AddMessage from \"../AddMessage/AddMessage.svelte\";\r\n\r\n  export let user;\r\n\r\n  let loggedUser;\r\n  let unsubscribe;\r\n  let chatUnsubscribe;\r\n  let chats = [];\r\n  const setState = () => {\r\n    unsubscribe = authStore.subscribe(res => {\r\n      loggedUser = res.user;\r\n    });\r\n    chatUnsubscribe = chatStore.subscribe(res => {\r\n      chats = res;\r\n    });\r\n  };\r\n\r\n  let visible = false;\r\n\r\n  const nevigateOrToggle = () => {\r\n    let currentFullChatId =\r\n      user._id > loggedUser._id\r\n        ? `${user._id}-${loggedUser._id}`\r\n        : `${loggedUser._id}-${user._id}`;\r\n    const isHere = chats.some(chat => chat.fullChatId === currentFullChatId);\r\n\r\n    if (isHere) {\r\n      let chatId = chats.filter(\r\n        chat => chat.fullChatId === currentFullChatId\r\n      )[0]._id;\r\n\r\n      chatIdStore.addChatId(chatId);\r\n      screenStore.setScreen(\"chat\");\r\n      return;\r\n    }\r\n    toggle();\r\n  };\r\n\r\n  const toggle = () => (visible = !visible);\r\n\r\n  let message = \"\";\r\n\r\n  const sendMessage = () => {};\r\n\r\n  const setToggle = () => {\r\n    toggle();\r\n  };\r\n\r\n  onMount(() => {\r\n    setState();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n  img {\r\n    width: 50px !important;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    margin-top: 5px;\r\n  }\r\n  .singleChat {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n</style>\r\n\r\n{#if user && loggedUser && user._id !== loggedUser._id}\r\n  <Card\r\n    style=\"margin-bottom: 10px; cursor:pointer\"\r\n    on:click={() => nevigateOrToggle()}>\r\n    <div class=\"singleChat\">\r\n      <div style=\"flex: 1\">\r\n        <img src={user.image} alt={user.username} />\r\n      </div>\r\n      <div style=\"flex:2\">\r\n        <p>{user.username}</p>\r\n        <p>{user.email.substr(0, 10)}{user.email.length > 10 ? '...' : ''}</p>\r\n      </div>\r\n      <div style=\"flex:1\">\r\n        <p>Typing...</p>\r\n      </div>\r\n    </div>\r\n  </Card>\r\n{/if}\r\n\r\n<Modal isOpen={visible} {toggle}>\r\n  <h3>Send a Message to {user.username}</h3>\r\n  <AddMessage {user} {setToggle} />\r\n\r\n</Modal>\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const getUsers = gql`\r\n  query($searchKey: String!) {\r\n    searchUser(searchKey: $searchKey) {\r\n      username\r\n      image\r\n      email\r\n      _id\r\n    }\r\n  }\r\n`;\r\n","<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { Card, Icon } from \"svelte-chota\";\r\n  import { mdiLanguageJavascript, mdiLoading } from \"@mdi/js\";\r\n  import SingleUser from \"./SingleUser.svelte\";\r\n  import { setClient, getClient, query, mutate } from \"svelte-apollo\";\r\n  import { client } from \"../../../../app/helpers/apolloClient.js\";\r\n  import { getUsers } from \"../../../../app/graphql/queries/getUsers.query.js\";\r\n\r\n  let users;\r\n  export let searchKey;\r\n  const getCliet = getClient();\r\n\r\n  $: if (searchKey.length > 2) {\r\n    users = query(getCliet, {\r\n      query: getUsers,\r\n      variables: { searchKey }\r\n    });\r\n  }\r\n\r\n  $: if (searchKey.length < 2) {\r\n    users = undefined;\r\n  }\r\n\r\n  onMount(() => {});\r\n\r\n  onDestroy(() => {});\r\n</script>\r\n\r\n<Card style=\"height: 350px; overflow:auto\">\r\n  {#await $users}\r\n    <div style=\"text-align:center\">\r\n      <Icon src={mdiLoading} color=\"orange\" spin=\"0.5\" size=\"3\" />\r\n    </div>\r\n  {:then result}\r\n    {#if searchKey.length > 2}\r\n      {#if result.data.searchUser.length === 0}No Users Found{/if}\r\n      {#each result.data.searchUser as user}\r\n        <SingleUser {user} />\r\n      {/each}\r\n    {/if}\r\n  {:catch error}\r\n    {error.message}\r\n  {/await}\r\n</Card>\r\n","<script>\r\n  import { Input, Field, Button, Card } from \"svelte-chota\";\r\n  import { v4 as uuid } from \"uuid\";\r\n  import screenStore from \"../../../../app/Store/screen/screen.store.js\";\r\n\r\n  let name =\r\n    \"Hasis;hf;al gh fa;slgf a;sga; .ksfvafsk. vfas.kf hv ask.fhv.asfhv\";\r\n</script>\r\n\r\n<style>\r\n  img {\r\n    width: 50px !important;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    margin-top: 5px;\r\n  }\r\n  .singleChat {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n</style>\r\n\r\n<Card\r\n  style=\"margin-bottom: 10px; cursor:pointer\"\r\n  on:click={() => {\r\n    screenStore.setScreen('addGroup');\r\n  }}>\r\n  <div class=\"singleChat\">\r\n    <img\r\n      src=\"https://avatars1.githubusercontent.com/u/37216970?s=88&u=f5293b88d23b3694aa76b7149ce28480cbe2912e&v=4\"\r\n      alt=\"\" />\r\n    <h5>Create Group Chat</h5>\r\n  </div>\r\n</Card>\r\n","<script>\r\n  import { setClient, getClient, query, mutate } from \"svelte-apollo\";\r\n  import SearchBar from \"./SearchBar/SearchBar.svelte\";\r\n  import Users from \"./Users/Users.svelte\";\r\n  import GroupChat from \"./GroupChat/GroupChat.svelte\";\r\n  import { client } from \"../../../app/helpers/apolloClient.js\";\r\n  import { getUsers } from \"../../../app/graphql/queries/getUsers.query.js\";\r\n  import screenStore from \"../../../app/Store/screen/screen.store.js\";\r\n\r\n  setClient(client);\r\n\r\n  const getCliet = getClient();\r\n\r\n  let users = [];\r\n\r\n  let searchKey = \"\";\r\n\r\n  $: if (searchKey) {\r\n    users = query(getCliet, {\r\n      query: getUsers,\r\n      variables: { searchKey }\r\n    });\r\n  }\r\n\r\n  const setSearchKey = key => {\r\n    searchKey = key;\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .addChat {\r\n    text-align: center;\r\n    height: 600px;\r\n  }\r\n</style>\r\n\r\n<i\r\n  class=\"fas fa-arrow-left\"\r\n  style=\"cursor:pointer\"\r\n  on:click={() => screenStore.setScreen('chat')} />\r\n<div class=\"addChat\">\r\n  <h1>Add Chat</h1>\r\n  <SearchBar {setSearchKey} />\r\n  <hr />\r\n  <GroupChat />\r\n  <hr />\r\n\r\n  <Users {searchKey} />\r\n</div>\r\n","<script>\r\n  import { Input, Field, Button, Card } from \"svelte-chota\";\r\n  import { v4 as uuid } from \"uuid\";\r\n\r\n  export let setSelectedUsers;\r\n  export let chat;\r\n\r\n  let name =\r\n    \"Hasis;hf;al gh fa;slgf a;sga; .ksfvafsk. vfas.kf hv ask.fhv.asfhv\";\r\n</script>\r\n\r\n<style>\r\n  img {\r\n    width: 50px !important;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    margin-top: 5px;\r\n  }\r\n  .singleChat {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n</style>\r\n\r\n<Card\r\n  style=\"margin-bottom: 10px; cursor:pointer\"\r\n  on:click={() => {\r\n    setSelectedUsers('https://avatars1.githubusercontent.com/u/37216970?s=88&u=f5293b88d23b3694aa76b7149ce28480cbe2912e&v=4');\r\n  }}>\r\n  {#if chat}\r\n    <div class=\"singleChat\">\r\n      <div style=\"flex: 1\">\r\n        <img src={chat.image} alt=\"\" />\r\n\r\n      </div>\r\n      <div style=\"flex:2\">\r\n        <p>{chat.username}</p>\r\n        <p>{name.substr(0, 10)}{name.length > 10 ? '...' : ''}</p>\r\n      </div>\r\n      <div style=\"flex:1\">\r\n        <p>Typing...</p>\r\n      </div>\r\n    </div>\r\n  {/if}\r\n</Card>\r\n","<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { Card, Icon } from \"svelte-chota\";\r\n  import SingleUser from \"./SingleUser.svelte\";\r\n  import { mdiLanguageJavascript, mdiLoading } from \"@mdi/js\";\r\n\r\n  export let setSelectedUsers;\r\n  export let chatList;\r\n\r\n  onMount(() => {});\r\n\r\n  onDestroy(() => {});\r\n</script>\r\n\r\n<Card style=\"height: 350px; overflow:auto\">\r\n\r\n  {#if chatList}\r\n    {#await $chatList}\r\n      <div style=\"text-align:center\">\r\n        <Icon src={mdiLoading} color=\"orange\" spin=\"0.5\" size=\"3\" />\r\n      </div>\r\n    {:then result}\r\n      {#each result.data.searchUser as chat}\r\n        <SingleUser {setSelectedUsers} {chat} />\r\n      {/each}\r\n\r\n    {:catch error}\r\n      {error.message}\r\n    {/await}\r\n  {/if}\r\n\r\n</Card>\r\n","<script>\r\n  import { Row, Col, Button, Input, Field } from \"svelte-chota\";\r\n  import {\r\n    fade,\r\n    scale,\r\n    fly,\r\n    slide,\r\n    draw,\r\n    crossfade,\r\n    blur\r\n  } from \"svelte/transition\";\r\n  import { mdiDelete, mdiSend } from \"@mdi/js\";\r\n  export let selectedUsers;\r\n  export let removeSelectedUsers;\r\n\r\n  $: console.log(selectedUsers);\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\r\n{#if selectedUsers.length > 0}\r\n  <br />\r\n  <div in:fly={{ y: 200, duration: 500 }} out:fade>\r\n    <Field gapless>\r\n      <Input placeholder=\"Group Name\" />\r\n      <Button icon={mdiSend} success />\r\n    </Field>\r\n  </div>\r\n{/if}\r\n\r\n<Row>\r\n  {#each selectedUsers as user}\r\n    <Col size=\"4\">\r\n      <div transition:scale>\r\n\r\n        <img src={user} style=\"width:50px\" alt=\"image\" />\r\n        <Button icon={mdiDelete} on:click={() => removeSelectedUsers(user)} />\r\n      </div>\r\n    </Col>\r\n  {/each}\r\n</Row>\r\n","<script>\r\n  import { onDestroy, onMount } from \"svelte\";\r\n  import { setClient, getClient, query, mutate } from \"svelte-apollo\";\r\n  import chatStore from \"../../../app/Store/chat/chat.store.js\";\r\n  import Users from \"./Users/Users.svelte\";\r\n  import SelectedUsers from \"./SelectedUsers/SelectedUsers.svelte\";\r\n  import SearchBar from \"../../HomePage/SearchBar/SearchBar.svelte\";\r\n  import screenStore from \"../../../app/Store/screen/screen.store.js\";\r\n  import { getUsers } from \"../../../app/graphql/queries/getUsers.query.js\";\r\n  import { client } from \"../../../app/helpers/apolloClient.js\";\r\n\r\n  let unsubscribe;\r\n  let chatList;\r\n  let searchKey;\r\n\r\n  setClient(client);\r\n\r\n  const getCliet = getClient();\r\n\r\n  let selectedUsers = [];\r\n\r\n  const getChatList = () => {\r\n    unsubscribe = chatStore.subscribe(chat => {\r\n      // chatList = chat;\r\n    });\r\n  };\r\n\r\n  const setSelectedUsers = user => {\r\n    selectedUsers = [...selectedUsers, user];\r\n  };\r\n\r\n  const removeSelectedUsers = user => {\r\n    selectedUsers = selectedUsers.filter(u => u !== user);\r\n  };\r\n\r\n  onMount(() => {\r\n    getChatList();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n\r\n  $: if (searchKey) {\r\n    chatList = query(getCliet, {\r\n      query: getUsers,\r\n      variables: { searchKey }\r\n    });\r\n  }\r\n\r\n  const searchChats = e => {\r\n    searchKey = e;\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .groupChat {\r\n    text-align: center;\r\n    height: 600px;\r\n  }\r\n</style>\r\n\r\n<i\r\n  class=\"fas fa-arrow-left\"\r\n  style=\"cursor:pointer\"\r\n  on:click={() => screenStore.setScreen('addChat')} />\r\n<div class=\"groupChat\">\r\n  <h1>Add Group Chat</h1>\r\n  <SearchBar {searchChats} />\r\n  <SelectedUsers {selectedUsers} {removeSelectedUsers} />\r\n  <Users {setSelectedUsers} {chatList} />\r\n</div>\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const getUserChatList = gql`\r\n  mutation($userId: String!) {\r\n    chats(userId: $userId) {\r\n      fullChatId\r\n      lastMessage\r\n      _id\r\n      users {\r\n        username\r\n        _id\r\n        image\r\n        email\r\n        onlineStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n","<script>\r\n  import { Card } from \"svelte-chota\";\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import {\r\n    fade,\r\n    scale,\r\n    fly,\r\n    slide,\r\n    draw,\r\n    crossfade,\r\n    blur\r\n  } from \"svelte/transition\";\r\n  import { mutate } from \"svelte-apollo\";\r\n  import MarkUp from \"../MarkUp\";\r\n  import Chat from \"../../../components/HomePage/Chat/Chat.svelte\";\r\n  import AppBar from \"../../../components/HomePage/AppBar/AppBar.svelte\";\r\n  import SearchBar from \"../../../components/HomePage/SearchBar/SearchBar.svelte\";\r\n  import Messages from \"../../../components/HomePage/Messages/Messages.svelte\";\r\n  import Profile from \"../../../components/HomePage/Profile/Profile.svelte\";\r\n  import AddChat from \"../../../components/HomePage/AddChat/AddChat.svelte\";\r\n  import GroupChat from \"../../../components/HomePage/GroupChat/GroupChat.svelte\";\r\n  import screenStore from \"../../Store/screen/screen.store.js\";\r\n  import authStore from \"../../Store/auth/auth.store.js\";\r\n  import chatStore from \"../../Store/chat/chat.store.js\";\r\n  import errorStore from \"../../Store/errors/errors.store.js\";\r\n  import { getUserChatList } from \"../../graphql/mutations/getUserChatLits.mutations.js\";\r\n  import { client } from \"../../helpers/apolloClient.js\";\r\n  import socketStore from \"../../../app/Store/socket/socket.store.js\";\r\n  let type = \"addChat\";\r\n\r\n  let unsubscribe;\r\n  let userUnsubscribe;\r\n  let chatUnsubscribe;\r\n  let user;\r\n  let socketUnsubscribe;\r\n  let chatSocket;\r\n  let newChatSocket;\r\n  let newMessage;\r\n\r\n  const setState = () => {\r\n    unsubscribe = screenStore.subscribe(res => {\r\n      type = res;\r\n    });\r\n    socketUnsubscribe = socketStore.subscribe(res => {\r\n      chatSocket = res.chatSocket;\r\n      newChatSocket = res.newChatSocket;\r\n    });\r\n    userUnsubscribe = authStore.subscribe(res => {\r\n      user = res.user;\r\n      if (res.user) {\r\n        chatSocket.emit(\"join\", { userId: res.user._id });\r\n        newChatSocket.emit(\"joinToNewChat\", { userId: res.user._id });\r\n        chatSocket.on(\"message\", res => {\r\n          newMessage = res.msg;\r\n          if (newMessage.sender !== user._id) {\r\n            errorStore.addErrors({\r\n              msg: newMessage.message,\r\n              type: \"success\",\r\n              id: newMessage._id\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  $: (async () => {\r\n    try {\r\n      if (user) {\r\n        const res = await mutate(client, {\r\n          mutation: getUserChatList,\r\n          variables: { userId: user._id }\r\n        });\r\n\r\n        console.log(res);\r\n        chatStore.addChats(res.data.chats);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  })();\r\n\r\n  onMount(() => {\r\n    setState();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n    userUnsubscribe();\r\n    socketUnsubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\r\n<MarkUp>\r\n  <div slot=\"chatList\">\r\n    {#if type === 'profile'}\r\n      <div in:fly={{ y: 200, duration: 500 }} out:fade>\r\n        <Profile />\r\n      </div>\r\n    {:else if type === 'addChat'}\r\n      <div in:fly={{ y: 200, duration: 500 }} out:fade>\r\n        <AddChat />\r\n      </div>\r\n    {:else if type === 'addGroup'}\r\n      <div in:fly={{ y: 200, duration: 500 }} out:fade>\r\n        <GroupChat />\r\n      </div>\r\n    {:else}\r\n      <div in:fly={{ y: 200, duration: 500 }} out:fade>\r\n        <Chat />\r\n      </div>\r\n    {/if}\r\n  </div>\r\n  <div slot=\"messages\" style=\"overflow:auto\">\r\n    <Messages {newMessage} />\r\n  </div>\r\n</MarkUp>\r\n","<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { navigate } from \"svelte-routing\";\r\n  import authStore from \"../../Store/auth/auth.store\";\r\n\r\n  let authenticated;\r\n\r\n  // Check User Auth\r\n  let unsubscribe;\r\n  const checkUserAuth = () => {\r\n    unsubscribe = authStore.subscribe(auth => {\r\n      authenticated = auth;\r\n      if (authenticated.auth) {\r\n        navigate(\"/\", { replace: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  onMount(() => {\r\n    checkUserAuth();\r\n  });\r\n\r\n  onDestroy(() => {\r\n    unsubscribe();\r\n  });\r\n</script>\r\n\r\n<div>\r\n  <slot name=\"content\" />\r\n</div>\r\n","export const validateEmail = email => {\r\n  let re = /^(([^<>()\\\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n};\r\n","<script>\r\n  import { onDestroy, onMount } from \"svelte\";\r\n  import UnAuthProtect from \"../UnAuthProtect.svelte\";\r\n  import { Input, Button } from \"svelte-chota\";\r\n  import { Link } from \"svelte-routing\";\r\n  import { validateEmail } from \"../../../helpers/emailValidator.js\";\r\n  import axios from \"axios\";\r\n  import { endPoint } from \"../../../../config\";\r\n  import authStore from \"../../../Store/auth/auth.store.js\";\r\n  import loadingStore from \"../../../Store/loading/loading.store.js\";\r\n  import alertToaster from \"simple_alert_toaster\";\r\n\r\n  let email = \"\";\r\n  let password = \"\";\r\n  let test = \"\";\r\n  let disabled = true;\r\n  let errorss = [];\r\n  let loading = false;\r\n\r\n  let loadingUnsubscribe;\r\n\r\n  $: console.log(loading);\r\n\r\n  // $: setInterval(() => {\r\n  //   alertToaster(\"test\", \"test\", \"success\");\r\n  // }, 1000);\r\n\r\n  onMount(() => {\r\n    loadingUnsubscribe = loadingStore.subscribe(loginLoading => {\r\n      console.log(loginLoading);\r\n      loading = loginLoading.name === \"login\" ? true : false;\r\n    });\r\n  });\r\n\r\n  onDestroy(() => {\r\n    loadingUnsubscribe();\r\n  });\r\n\r\n  $: (() => {\r\n    if (validateEmail(email) && password.length >= 6) {\r\n      disabled = false;\r\n    } else {\r\n      disabled = true;\r\n    }\r\n  })();\r\n\r\n  const submit = (e, loading) => {\r\n    e.preventDefault();\r\n    loadingStore.setLoading(\"login\");\r\n    loading = true;\r\n    authStore.loginUser({ email, password });\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .login_form {\r\n    margin: auto;\r\n    width: 50%;\r\n    padding: 10% 0;\r\n  }\r\n  .form-group .alert {\r\n    background: none;\r\n    border: none;\r\n    color: darkred;\r\n  }\r\n</style>\r\n\r\n<UnAuthProtect>\r\n  <div slot=\"content\" class=\"container login_form \">\r\n    <form>\r\n      <div class=\"form-group\">\r\n        <label for=\"exampleInputEmail1\">Email address</label>\r\n        <input\r\n          type=\"email\"\r\n          class=\"form-control\"\r\n          bind:value={email}\r\n          placeholder=\"Email Address\" />\r\n        {#if !validateEmail(email) && email !== ''}\r\n          <div class=\"alert alert-danger\">{email} is Not an Email Address</div>\r\n        {/if}\r\n\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"exampleInputPassword1\">Password</label>\r\n        <input\r\n          type=\"password\"\r\n          bind:value={password}\r\n          class=\"form-control\"\r\n          placeholder=\"Password\" />\r\n        {#if password.length < 6 && password !== ''}\r\n          <div class=\"alert alert-danger\">\r\n            {'Password mu be 6 or more characters'}\r\n          </div>\r\n        {/if}\r\n      </div>\r\n    </form>\r\n\r\n    <Button on:click={e => submit(e)} primary {disabled} {loading}>\r\n      Submit\r\n    </Button>\r\n    <br />\r\n\r\n    <span>\r\n      Don't Have an Account?\r\n      <Link to=\"register\">Register Here</Link>\r\n    </span>\r\n\r\n  </div>\r\n\r\n</UnAuthProtect>\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const getFaculties = gql`\r\n  {\r\n    faculties {\r\n      name\r\n      _id\r\n    }\r\n  }\r\n`;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const getDepartments = gql`\r\n  mutation($facultyId: String!) {\r\n    departments(facultyId: $facultyId) {\r\n      name\r\n      _id\r\n    }\r\n  }\r\n`;\r\n","<script>\r\n  import { Link } from \"svelte-routing\";\r\n  import { setClient, getClient, query, mutate } from \"svelte-apollo\";\r\n  import { Button } from \"svelte-chota\";\r\n  import UnAuthProtect from \"../UnAuthProtect.svelte\";\r\n  import { validateEmail } from \"../../../helpers/emailValidator.js\";\r\n  import { client } from \"../../../helpers/apolloClient.js\";\r\n  import { getFaculties } from \"../../../graphql/queries/getFaculties.query.js\";\r\n  import { getDepartments } from \"../../../graphql/mutations/getDepartments.mutation.js\";\r\n  import authStore from \"../../../Store/auth/auth.store.js\";\r\n  import errorStore from \"../../../Store/errors/errors.store.js\";\r\n  setClient(client);\r\n\r\n  const getCliet = getClient();\r\n  const faculties = query(getCliet, { query: getFaculties });\r\n\r\n  let username = \"\";\r\n  let email = \"\";\r\n  let password = \"\";\r\n  let confirmPassword = \"\";\r\n  let disabled = true;\r\n\r\n  $: (async () => {\r\n    try {\r\n      const res = await mutate(client, {\r\n        mutation: getDepartments,\r\n        variables: { facultyId: \"5e97274a36fc930c20fb6f90\" }\r\n      });\r\n      if (res && res.data && res.data.departments) {\r\n        console.log(res.data.departments);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  })();\r\n\r\n  // $: (() => {\r\n  //   if (password !== confirmPassword) {\r\n  //   }\r\n  // })();\r\n\r\n  $: disabled =\r\n    password &&\r\n    password.length > 6 &&\r\n    confirmPassword &&\r\n    confirmPassword.length > 4 &&\r\n    password === confirmPassword &&\r\n    email &&\r\n    username\r\n      ? false\r\n      : true;\r\n\r\n  const submit = e => {\r\n    e.preventDefault();\r\n\r\n    const body = {\r\n      username,\r\n      email,\r\n      password\r\n    };\r\n\r\n    authStore.registerUser(body);\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .login_form {\r\n    margin: auto;\r\n    width: 50%;\r\n    padding: 10% 0;\r\n  }\r\n  .form-group .alert {\r\n    background: none;\r\n    border: none;\r\n    color: darkred;\r\n  }\r\n</style>\r\n\r\n<UnAuthProtect>\r\n  <div slot=\"content\" class=\"container login_form\">\r\n    <form>\r\n      <div class=\"form-group\">\r\n        <label>Username</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          placeholder=\"Username\"\r\n          bind:value={username} />\r\n        {#if (username && username.length < 4) || username.length > 12}\r\n          <div class=\"alert alert-danger\">\r\n            username should be 4 to 12 characters\r\n          </div>\r\n        {/if}\r\n\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"exampleInputEmail1\">Email address</label>\r\n        <input\r\n          type=\"email\"\r\n          class=\"form-control\"\r\n          bind:value={email}\r\n          placeholder=\"Email Address\" />\r\n        {#if !validateEmail(email) && email !== ''}\r\n          <div class=\"alert alert-danger\">{email} is Not an Email Address</div>\r\n        {/if}\r\n\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"exampleInputPassword1\">Password</label>\r\n        <input\r\n          type=\"password\"\r\n          bind:value={password}\r\n          class=\"form-control\"\r\n          placeholder=\"Password\" />\r\n        {#if password.length < 6 && password !== ''}\r\n          <div class=\"alert alert-danger\">\r\n            {'Password mu be 6 or more characters'}\r\n          </div>\r\n        {/if}\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"exampleInputPassword1\">Confirm Password</label>\r\n        <input\r\n          type=\"password\"\r\n          bind:value={confirmPassword}\r\n          class=\"form-control\"\r\n          placeholder=\"Confirm Password\" />\r\n        {#if confirmPassword.length < 6 && confirmPassword !== ''}\r\n          <div class=\"alert alert-danger\">\r\n            {'Password mu be 6 or more characters'}\r\n          </div>\r\n        {:else if password !== confirmPassword && password && confirmPassword}\r\n          <div class=\"alert alert-danger\">\r\n            {'Password and confirm password did not matched'}\r\n          </div>\r\n        {/if}\r\n      </div>\r\n    </form>\r\n    <Button success {disabled} on:click={e => submit(e)}>Register</Button>\r\n    <br />\r\n\r\n    <span>\r\n      Already Have an Account?\r\n      <Link to=\"login\">Register Here</Link>\r\n    </span>\r\n\r\n  </div>\r\n</UnAuthProtect>\r\n","<script>\r\n  import { Link } from 'svelte-routing'\r\n\r\n  const navList = [\r\n    { path: 'addFaculty', lable: 'Add Faculty' },\r\n    { path: 'addDepartment', lable: 'Add Department' },\r\n  ]\r\n</script>\r\n\r\n<nav class=\"main-nav\">\r\n  <img src=\"https://i.ibb.co/wwLhz98/logo.png\" alt=\"Microsoft\" class=\"logo\" />\r\n\r\n  <ul class=\"main-menu\">\r\n    {#each navList as list}\r\n      <li>\r\n        <Link to={list.path}>{list.lable}</Link>\r\n      </li>\r\n    {/each}\r\n\r\n  </ul>\r\n</nav>\r\n<h1>Test Fix</h1>\r\n<h1>Test Fix</h1>\r\n","<script>\r\n  import axios from \"axios\";\r\n  import AdminMarkUp from \"../AdminMarkUp\";\r\n  import errorStore from \"../../../Store/errors/errors.store\";\r\n  import { endPoint } from \"../../../../config\";\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  let disabled = true;\r\n\r\n  let name = \"\";\r\n\r\n  let header = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  };\r\n\r\n  $: disabled = name.length > 4 && name.length < 50 ? false : true;\r\n\r\n  // Add Faculty\r\n  const addFaculty = async () => {\r\n    try {\r\n      const { data, status } = await axios.post(\r\n        `${endPoint}/api/faculties`,\r\n        { name },\r\n        header\r\n      );\r\n\r\n      errorStore.addErrors({ msg: \"Department added\", type: \"success\" });\r\n      name = \"\";\r\n    } catch (err) {\r\n      console.log(err.response);\r\n      const errors = err.response.data;\r\n      errorStore.addErrors({ msg: errors.message, type: \"danger\" });\r\n    }\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .alert {\r\n    background: none;\r\n    border: none;\r\n  }\r\n  .mainDiv {\r\n    text-align: center;\r\n  }\r\n  form {\r\n    width: 50%;\r\n    margin: auto;\r\n  }\r\n</style>\r\n\r\n<AdminMarkUp>\r\n  <div slot=\"content\">\r\n    <div class=\"mainDiv\">\r\n      <h1>Add Faculty</h1>\r\n      <form>\r\n        <div class=\"form-group\">\r\n          <label for=\"exampleInputEmail1\">Faculty Name</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            bind:value={name}\r\n            placeholder=\"Faculty Name\" />\r\n          {#if (name.length <= 4 || name.length > 50) && name !== ''}\r\n            <div class=\"alert alert-danger\">\r\n              Faculty name must be 4 to 50 characters\r\n            </div>\r\n          {/if}\r\n\r\n        </div>\r\n      </form>\r\n      <button\r\n        {disabled}\r\n        class=\"btn btn-success\"\r\n        on:click|preventDefault={() => addFaculty()}>\r\n        Submit\r\n      </button>\r\n    </div>\r\n  </div>\r\n</AdminMarkUp>\r\n","<script>\r\n  import axios from \"axios\";\r\n  import { setClient, getClient, query } from \"svelte-apollo\";\r\n  import { client } from \"../../../helpers/apolloClient.js\";\r\n  import { getFaculties } from \"../../../graphql/queries/getFaculties.query.js\";\r\n  import { getDepartments } from \"../../../graphql/mutations/getDepartments.mutation.js\";\r\n\r\n  import AdminMarkUp from \"../AdminMarkUp\";\r\n  import errorStore from \"../../../Store/errors/errors.store\";\r\n  import { endPoint } from \"../../../../config\";\r\n\r\n  setClient(client);\r\n\r\n  const getCliet = getClient();\r\n  const faculties = query(getCliet, { query: getFaculties });\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  let disabled = true;\r\n  let facultyId = \"\";\r\n  let name = \"\";\r\n\r\n  let header = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  };\r\n\r\n  $: disabled = name.length > 4 && name.length < 50 && facultyId ? false : true;\r\n\r\n  $: console.log(facultyId);\r\n\r\n  // Add Department\r\n  const addDepartment = async () => {\r\n    try {\r\n      const { data, status } = await axios.post(\r\n        `${endPoint}/api/department`,\r\n        { name, facultyId },\r\n        header\r\n      );\r\n\r\n      errorStore.addErrors({ msg: \"Department added\", type: \"success\" });\r\n      name = \"\";\r\n    } catch (err) {\r\n      console.log(err.response);\r\n      const errors = err.response.data;\r\n      errorStore.addErrors({ msg: errors.message, type: \"danger\" });\r\n    }\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .alert {\r\n    background: none;\r\n    border: none;\r\n  }\r\n  .mainDiv {\r\n    text-align: center;\r\n  }\r\n  form {\r\n    width: 50%;\r\n    margin: auto;\r\n  }\r\n</style>\r\n\r\n<AdminMarkUp>\r\n  <div slot=\"content\">\r\n    <div class=\"mainDiv\">\r\n      <h1>Add Department</h1>\r\n      <form>\r\n        <div class=\"form-group\">\r\n          <label>Faculty</label>\r\n\r\n          <select\r\n            class=\"custom-select mr-sm-2\"\r\n            id=\"inlineFormCustomSelect\"\r\n            bind:value={facultyId}>\r\n            <option value={null}>Select Faculty</option>\r\n\r\n            {#await $faculties}\r\n              Loading....\r\n            {:then result}\r\n              {#each result.data.faculties as faculty}\r\n                <option value={faculty._id}>{faculty.name}</option>\r\n              {/each}\r\n            {:catch error}\r\n              {error.message}\r\n            {/await}\r\n          </select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"exampleInputEmail1\">Department Name</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            bind:value={name}\r\n            placeholder=\"Faculty Name\" />\r\n          {#if (name.length <= 4 || name.length > 50) && name !== ''}\r\n            <div class=\"alert alert-danger\">\r\n              Faculty name must be 4 to 50 characters\r\n            </div>\r\n          {/if}\r\n\r\n        </div>\r\n      </form>\r\n      <button\r\n        {disabled}\r\n        class=\"btn btn-success\"\r\n        on:click|preventDefault={() => addDepartment()}>\r\n        Submit\r\n      </button>\r\n    </div>\r\n  </div>\r\n</AdminMarkUp>\r\n","<script>\r\n  import { Router, Link, Route } from \"svelte-routing\";\r\n  import Home from \"./screens/Home/Home.svelte\";\r\n  import Login from \"./screens/Auth/Login/Login.svelte\";\r\n  import Register from \"./screens/Auth/Register/Register.svelte\";\r\n  import Admin from \"./screens/Admin/Admin.svelte\";\r\n  import AddFaculty from \"./screens/Admin/AddFaculty/AddFaculty.svelte\";\r\n  import AddDepartment from \"./screens/Admin/AddDepartment/AddDepartment.svelte\";\r\n  export let url = \"\";\r\n</script>\r\n\r\n<Router {url}>\r\n  <Route path=\"login\" component={Login} />\r\n  <Route path=\"register\" component={Register} />\r\n  <Route path=\"admin\" component={Admin} />\r\n  <Route path=\"addFaculty\" component={AddFaculty} />\r\n  <Route path=\"addDepartment\" component={AddDepartment} />\r\n  <Route path=\"/\">\r\n    <Home />\r\n  </Route>\r\n</Router>\r\n","<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import errorStore from \"../../app/Store/errors/errors.store\";\r\n\r\n  let errors = [];\r\n  let errorsUnSubscribe;\r\n\r\n  onMount(() => {\r\n    errorsUnSubscribe = errorStore.subscribe(allErrors => {\r\n      errors = allErrors;\r\n    });\r\n  });\r\n\r\n  onDestroy(() => {\r\n    errorsUnSubscribe();\r\n  });\r\n</script>\r\n\r\n<style>\r\n  .alert_div {\r\n    width: 300px;\r\n    position: absolute;\r\n    right: -10vw;\r\n    top: 1vh;\r\n    z-index: 10000;\r\n  }\r\n</style>\r\n\r\n<div class=\"alert_div\">\r\n  <br />\r\n  {#each errors as error}\r\n    <div\r\n      class={`alert\r\n    alert-${error.type}\r\n    alert-dismissible\r\n    fade\r\n    show`}\r\n      style=\"justify-content: space-between; display:flex\"\r\n      role=\"alert\">\r\n      <strong>{error.msg}</strong>\r\n      <button\r\n        style=\" background:none\"\r\n        type=\"button\"\r\n        on:click={() => errorStore.removeErrors(error.id)}>\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n    </div>\r\n  {/each}\r\n</div>\r\n","<script>\r\n  import Router from \"./Router\";\r\n  import authStore from \"./Store/auth/auth.store.js\";\r\n  import Errors from \"../components/Errors/Errors.svelte\";\r\n  import { Card } from \"svelte-chota\";\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const unubscribe = authStore.checkAuthState();\r\n</script>\r\n\r\n<style>\r\n  @import \"https://unpkg.com/chota@latest\";\r\n  @import \"smelte/src/tailwind.css\";\r\n  .container {\r\n    margin-top: 10px;\r\n    background: darkgray;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n  <Card>\r\n    <Errors />\r\n    <Router />\r\n  </Card>\r\n</div>\r\n","import App from \"./app/App.svelte\";\n\nconst app = new App({\n  target: document.body\n});\n\nexport default app;\n"],"sourceRoot":""}